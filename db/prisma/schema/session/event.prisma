enum SessionEventType {
  session_created
  session_started
  provider_run_started
  provider_run_stopped
  message_created
  message_processed
  connection_created
  error_occurred
}

model SessionEvent {
  oid BigInt @id
  id  String @unique

  type            SessionEventType
  isParentDeleted Boolean          @default(false)

  sessionOid BigInt
  session    Session @relation(fields: [sessionOid], references: [oid])

  providerRunOid BigInt?
  providerRun    ProviderRun? @relation(fields: [providerRunOid], references: [oid])

  messageOid BigInt?
  message    SessionMessage? @relation(fields: [messageOid], references: [oid])

  connectionOid BigInt?
  connection    SessionConnection? @relation(fields: [connectionOid], references: [oid])

  tenantOid BigInt
  tenant    Tenant @relation(fields: [tenantOid], references: [oid])

  solutionOid BigInt
  solution    Solution @relation(fields: [solutionOid], references: [oid])

  errorOid BigInt?
  error    SessionError? @relation(fields: [errorOid], references: [oid])

  createdAt DateTime @default(now())
}
